/*!
 *   Administrator MajorClass Edit Page JavaScript v1.0.0
 *   Author: Danvic712
 */
$(function(){function n(){var n={};n.Id=$(this).attr("data-id");n.Name=$("#name").val();n.MajorCode=$("#code").val();n.MajorName=$("#major").val();n.DepartmentId=$("#deptnumber").val();n.DepartmentName=$("#department option:selected").text();n.Wechat=$("#wechat").val();n.QQ=$("#qq").val();n.InstructorId=$("#insnumber").val();n.InstructorName=$("#instructor option:selected").text();n.SessionNum=$("#session").val();n.IsEnabled=$("#enable").val();$(this).attr("disabled","disabled");$.ajax({type:"POST",url:"/Administrator/School/EditMajorClass",data:n,dataType:"json",success:function(n){n.msg!==undefined&&(bootbox.dialog({message:n.msg,closeButton:!1}),n.success?setTimeout(function(){window.location.href="/Administrator/School/MajorClass"},2e3):setTimeout(function(){window.location.href=window.location.href},2e3));$("#save").removeAttr("disabled")},error:function(n){console.log(n);$("#save").removeAttr("disabled")}})}$("#majorclass_form").validate({submitHandler:function(){n()}});$(document).on("change","#department",function(){$(this).val()!=="-1"?$("#deptnumber").val($(this).val()):$("#deptnumber").val("")});$(document).on("change","#instructor",function(){$(this).val()!=="-1"?$("#insnumber").val($(this).val()):$("#insnumber").val("")});$(document).on("click","#save",function(){})});