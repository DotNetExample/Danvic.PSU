/*!
 *   Student Register Booking Page JavaScript v1.0.0
 *   Author: Danvic712
 */
$(function(){$(".date-picker").datepicker({autoclose:!0,todayHighlight:!0,language:"zh-CN",format:"yyyy-mm-dd"});$(document).on("click","#service_detail",function(){$.ajax({type:"GET",dataType:"html",url:"/Student/Register/ServiceInfo",data:{id:$(this).attr("data-id")},success:function(n){bootbox.dialog({title:"迎新服务详细信息",message:n})}})});$(document).on("click","#book_service",function(){$.ajax({type:"GET",dataType:"html",url:"/Student/Register/BookingService",data:{Id:$(this).attr("data-id"),IsBooking:$(this).attr("data-booking")},success:function(n){bootbox.dialog({title:"预定迎新服务",message:n})}})});$(document).on("click","#book_serviceInfo",function(){$.ajax({type:"GET",dataType:"html",url:"/Student/Register/BookingService",data:{id:$(this).attr("data-id"),IsBooking:$(this).attr("data-booking")},success:function(n){bootbox.dialog({title:"迎新服务预定详情",message:n})},error:function(n){console.log(n.responseText)}})});$(document).on("click","#book_save",function(){if($("#way").val()==="-1")return bootbox.dialog({message:"请选择来校方式"}),!1;if($("#place").val()==="")return bootbox.dialog({message:"请输入到达地点"}),!1;if($("#arrivetime").val()==="")return bootbox.dialog({message:"请输入预计到达日期"}),!1;if($("#express").val()==="-1")return bootbox.dialog({message:"请选择档案是否快递寄送"}),!1;var n={};n.Id=$(this).attr("data-id");n.Way=$("#way").val();n.Place=$("#place").val();n.ArriveTime=$("#arrivetime").val();n.IsExpress=$("#express").val();n.ExpressId=$("#expressid").val();n.Remark=$("#remark").val();$(this).attr("disabled","disabled");$.ajax({type:"POST",url:"/Student/Register/SignUp",data:n,dataType:"json",success:function(n){n.msg!==undefined&&(bootbox.dialog({message:n.msg}),n.success&&setTimeout(function(){bootbox.hideAll();window.location.href=window.location.href},2e3));$("#save").removeAttr("disabled")},error:function(n){console.log(n);$("#save").removeAttr("disabled")}})})});